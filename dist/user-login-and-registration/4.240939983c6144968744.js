(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jcJX:function(e,r,t){"use strict";t.r(r),t.d(r,"AccountModule",(function(){return B}));var n=t("ofXK"),s=t("tyNb"),i=t("3Pt+"),o=t("SxV6"),b=t("fXoL"),a=t("flj8"),u=t("5eHb");function c(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter username"),b.Mb())}function d(e,r){if(1&e&&(b.Nb(0,"div",13),b.gc(1,c,2,0,"div",14),b.Mb()),2&e){const e=b.Wb(2);b.xb(1),b.Xb("ngIf",null==e.f.username?null:e.f.username.errors.required)}}function l(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"The username is not recognized"),b.Mb())}function f(e,r){if(1&e&&(b.Nb(0,"div",13),b.gc(1,l,2,0,"div",14),b.Mb()),2&e){const e=b.Wb(2);b.xb(1),b.Xb("ngIf",e.invalidUsername)}}const m=function(e){return{"is-invalid":e}};function h(e,r){if(1&e&&(b.Nb(0,"div",5),b.Nb(1,"label",10),b.hc(2,"Username"),b.Mb(),b.Jb(3,"input",11),b.gc(4,d,2,1,"div",12),b.gc(5,f,2,1,"div",12),b.Mb()),2&e){const e=b.Wb();b.xb(3),b.Xb("ngClass",b.Yb(3,m,e.userSubmitted&&e.f.username.errors||e.userSubmitted&&e.invalidUsername)),b.xb(1),b.Xb("ngIf",e.userSubmitted&&(null==e.f.username?null:e.f.username.errors)),b.xb(1),b.Xb("ngIf",e.userSubmitted&&e.invalidUsername)}}function g(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter password"),b.Mb())}function v(e,r){if(1&e&&(b.Nb(0,"div",13),b.gc(1,g,2,0,"div",14),b.Mb()),2&e){const e=b.Wb(2);b.xb(1),b.Xb("ngIf",e.f.password.errors.required)}}function p(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"The username or password not recognized"),b.Mb())}function N(e,r){if(1&e&&(b.Nb(0,"div",13),b.gc(1,p,2,0,"div",14),b.Mb()),2&e){const e=b.Wb(2);b.xb(1),b.Xb("ngIf",e.invalidAuthentication)}}function x(e,r){if(1&e){const e=b.Ob();b.Nb(0,"div",5),b.Nb(1,"label",15),b.hc(2,"Password"),b.Mb(),b.Nb(3,"input",16),b.Ub("input",(function(r){return b.ac(e),b.Wb().onSearchChange(r.target.value)})),b.Mb(),b.gc(4,v,2,1,"div",12),b.gc(5,N,2,1,"div",12),b.Mb()}if(2&e){const e=b.Wb();b.xb(3),b.Xb("ngClass",b.Yb(3,m,e.submitted&&e.f.password.touched&&e.f.password.errors||e.submitted&&e.invalidAuthentication)),b.xb(1),b.Xb("ngIf",e.submitted&&e.f.password.touched&&e.f.password.errors),b.xb(1),b.Xb("ngIf",e.submitted&&e.invalidAuthentication)}}function M(e,r){1&e&&b.Jb(0,"span",17)}let I=(()=>{class e{constructor(e,r,t,n,s){this.formBuilder=e,this.route=r,this.router=t,this.accountService=n,this.toasterService=s,this.loading=!1,this.submitted=!1,this.isValidUser=!1,this.invalidAuthentication=!1,this.buttonText="Next",this.userSubmitted=!1,this.invalidUsername=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",i.h.required],password:["",i.h.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.form.controls}onSearchChange(e){this.buttonText=e?"Log In":"Next"}onSubmit(){this.userSubmitted=!0,""!==this.f.username.value&&""===this.f.password.value&&this.validateUsername(),this.submitted=!0,this.form.invalid?console.log("form invalid"):(this.buttonText="Verifying",this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(o.a)()).subscribe(e=>{this.router.navigate([this.returnUrl])},e=>{this.invalidAuthentication=!0,this.loading=!1,this.buttonText="Log In"}))}validateUsername(){this.buttonText="Verifying",this.loading=!0,this.accountService.validateUser(this.f.username.value).pipe(Object(o.a)()).subscribe(e=>{this.isValidUser=!0,this.buttonText="Next",this.loading=!1,this.user=e},e=>{this.isValidUser=!1,this.invalidUsername=!0,this.buttonText="Next",this.loading=!1})}}return e.\u0275fac=function(r){return new(r||e)(b.Ib(i.b),b.Ib(s.a),b.Ib(s.b),b.Ib(a.a),b.Ib(u.b))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-login"]],decls:15,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"btn","btn","btn-primary","btn-lg","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[2,"text-align","center"],["routerLink","../register",1,"btn","btn-link"],["for","username"],["type","text","formControlName","username","placeholder","JohnSmith",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass","input"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(b.Nb(0,"div",0),b.Nb(1,"h4",1),b.hc(2,"Sign In"),b.Mb(),b.Nb(3,"div",2),b.Nb(4,"form",3),b.Ub("ngSubmit",(function(){return r.onSubmit()})),b.gc(5,h,6,5,"div",4),b.gc(6,x,6,5,"div",4),b.Nb(7,"div",5),b.Nb(8,"button",6),b.gc(9,M,1,0,"span",7),b.hc(10),b.Mb(),b.Nb(11,"p",8),b.hc(12,"New to Autodesk ? "),b.Nb(13,"a",9),b.hc(14,"Create Account"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.xb(4),b.Xb("formGroup",r.form),b.xb(1),b.Xb("ngIf",!r.isValidUser),b.xb(1),b.Xb("ngIf",r.isValidUser),b.xb(2),b.Xb("disabled",r.loading),b.xb(1),b.Xb("ngIf",r.loading),b.xb(1),b.ic(" ",r.buttonText," "))},directives:[i.i,i.f,i.d,n.i,s.c,i.a,i.e,i.c,n.h],styles:[""]}),e})();function w(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter your first name"),b.Mb())}function X(e,r){if(1&e&&(b.Nb(0,"div",20),b.gc(1,w,2,0,"div",21),b.Mb()),2&e){const e=b.Wb();b.xb(1),b.Xb("ngIf",e.f.firstName.errors.required)}}function C(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter your last name"),b.Mb())}function y(e,r){if(1&e&&(b.Nb(0,"div",20),b.gc(1,C,2,0,"div",21),b.Mb()),2&e){const e=b.Wb();b.xb(1),b.Xb("ngIf",e.f.lastName.errors.required)}}function S(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter a valid username"),b.Mb())}function q(e,r){if(1&e&&(b.Nb(0,"div",20),b.gc(1,S,2,0,"div",21),b.Mb()),2&e){const e=b.Wb();b.xb(1),b.Xb("ngIf",e.f.username.errors.required)}}function U(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter the username"),b.Mb())}function A(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Usernames are mismatch"),b.Mb())}function J(e,r){if(1&e&&(b.Nb(0,"div",20),b.gc(1,U,2,0,"div",21),b.gc(2,A,2,0,"div",21),b.Mb()),2&e){const e=b.Wb();b.xb(1),b.Xb("ngIf",e.f.username2.errors.required),b.xb(1),b.Xb("ngIf",null==e.f.username2?null:e.f.username2.errors.NotEqual)}}function P(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter the password"),b.Mb())}function k(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Minimum length is 3 charactors"),b.Mb())}function W(e,r){if(1&e&&(b.Nb(0,"div",20),b.gc(1,P,2,0,"div",21),b.gc(2,k,2,0,"div",21),b.Mb()),2&e){const e=b.Wb();b.xb(1),b.Xb("ngIf",e.f.password.errors.required),b.xb(1),b.Xb("ngIf",e.f.password.errors.minlength)}}function T(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Please enter the password"),b.Mb())}function V(e,r){1&e&&(b.Nb(0,"div"),b.hc(1,"Passwords are mismatch"),b.Mb())}function E(e,r){if(1&e&&(b.Nb(0,"div",20),b.gc(1,T,2,0,"div",21),b.gc(2,V,2,0,"div",21),b.Mb()),2&e){const e=b.Wb();b.xb(1),b.Xb("ngIf",e.f.password2.errors.required),b.xb(1),b.Xb("ngIf",null==e.f.password2?null:e.f.password2.errors.NotEqual)}}function Y(e,r){1&e&&b.Jb(0,"span",22)}const j=function(e){return{"is-invalid":e}};let L=(()=>{class e{constructor(e,r,t,n,s){this.formBuilder=e,this.route=r,this.router=t,this.accountService=n,this.toasterService=s,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",i.h.required],lastName:["",i.h.required],username:["",i.h.required],password:["",[i.h.required,i.h.minLength(3)]],username2:["",[i.h.compose([i.h.required,this.usernamesAreEqual.bind(this)])]],password2:["",[i.h.compose([i.h.required,this.passwordsAreEqual.bind(this)])]]})}passwordsAreEqual(e){var r;return e.value===(null===(r=this.f)||void 0===r?void 0:r.password.value)?null:{NotEqual:!0}}usernamesAreEqual(e){var r;return e.value===(null===(r=this.f)||void 0===r?void 0:r.username.value)?null:{NotEqual:!0}}get f(){var e;return null===(e=this.form)||void 0===e?void 0:e.controls}onSubmit(){this.submitted=!0,this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(o.a)()).subscribe(e=>{this.toasterService.success("Account Created Successfully"),this.router.navigate(["/account/login"])},e=>{this.loading=!1,this.toasterService.error(e)}))}signIn(){this.router.navigate(["/account/login"])}}return e.\u0275fac=function(r){return new(r||e)(b.Ib(i.b),b.Ib(s.a),b.Ib(s.b),b.Ib(a.a),b.Ib(u.b))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-register"]],decls:43,vars:27,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName","placeholder","John",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName","placeholder","Smith",1,"form-control",3,"ngClass"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["type","text","formControlName","username2",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["type","password","formControlName","password2",1,"form-control",3,"ngClass"],[1,"btn","btn","btn-primary","btn-lg","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[2,"text-align","center"],["routerLink","/account/login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(b.Nb(0,"div",0),b.Nb(1,"h4",1),b.hc(2,"Create Account"),b.Mb(),b.Nb(3,"div",2),b.Nb(4,"form",3),b.Ub("ngSubmit",(function(){return r.onSubmit()})),b.Nb(5,"div",4),b.Nb(6,"label",5),b.hc(7,"First Name"),b.Mb(),b.Jb(8,"input",6),b.gc(9,X,2,1,"div",7),b.Mb(),b.Nb(10,"div",4),b.Nb(11,"label",8),b.hc(12,"Last Name"),b.Mb(),b.Jb(13,"input",9),b.gc(14,y,2,1,"div",7),b.Mb(),b.Nb(15,"div",4),b.Nb(16,"label",10),b.hc(17,"Username"),b.Mb(),b.Jb(18,"input",11),b.gc(19,q,2,1,"div",7),b.Mb(),b.Nb(20,"div",4),b.Nb(21,"label",10),b.hc(22,"Re-type Username"),b.Mb(),b.Jb(23,"input",12),b.gc(24,J,3,2,"div",7),b.Mb(),b.Nb(25,"div",4),b.Nb(26,"label",13),b.hc(27,"Password"),b.Mb(),b.Jb(28,"input",14),b.gc(29,W,3,2,"div",7),b.Mb(),b.Nb(30,"div",4),b.Nb(31,"label",13),b.hc(32,"Re-type Password"),b.Mb(),b.Jb(33,"input",15),b.gc(34,E,3,2,"div",7),b.Mb(),b.Nb(35,"div",4),b.Nb(36,"button",16),b.gc(37,Y,1,0,"span",17),b.hc(38," Create Account "),b.Mb(),b.Nb(39,"p",18),b.hc(40,"Already Have an Account? "),b.Nb(41,"a",19),b.hc(42,"Sign In"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&e&&(b.xb(4),b.Xb("formGroup",r.form),b.xb(4),b.Xb("ngClass",b.Yb(15,j,r.submitted&&r.f.firstName.errors)),b.xb(1),b.Xb("ngIf",r.submitted&&r.f.firstName.errors),b.xb(4),b.Xb("ngClass",b.Yb(17,j,r.submitted&&r.f.lastName.errors)),b.xb(1),b.Xb("ngIf",r.submitted&&r.f.lastName.errors),b.xb(4),b.Xb("ngClass",b.Yb(19,j,r.submitted&&r.f.username.errors)),b.xb(1),b.Xb("ngIf",r.submitted&&r.f.username.errors),b.xb(4),b.Xb("ngClass",b.Yb(21,j,r.submitted&&r.f.username2.errors)),b.xb(1),b.Xb("ngIf",r.submitted&&r.f.username2.errors),b.xb(4),b.Xb("ngClass",b.Yb(23,j,r.submitted&&r.f.password.errors)),b.xb(1),b.Xb("ngIf",r.submitted&&r.f.password.errors),b.xb(4),b.Xb("ngClass",b.Yb(25,j,r.submitted&&(null==r.f.password2?null:r.f.password2.errors))),b.xb(1),b.Xb("ngIf",r.submitted&&(null==r.f.password2?null:r.f.password2.errors)),b.xb(2),b.Xb("disabled",r.loading),b.xb(1),b.Xb("ngIf",r.loading))},directives:[i.i,i.f,i.d,i.a,i.e,i.c,n.h,n.i,s.c],styles:[""]}),e})();const G=[{path:"",component:(()=>{class e{constructor(e,r){this.router=e,this.accountService=r,this.accountService.userValue&&this.router.navigate(["/"])}}return e.\u0275fac=function(r){return new(r||e)(b.Ib(s.b),b.Ib(a.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-layout"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(e,r){1&e&&(b.Nb(0,"div",0),b.Jb(1,"router-outlet"),b.Mb())},directives:[s.e],styles:[""]}),e})(),children:[{path:"login",component:I},{path:"register",component:L}]}];let O=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(r){return new(r||e)},imports:[[s.d.forChild(G)],s.d]}),e})(),B=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(r){return new(r||e)},imports:[[n.b,O,i.g]]}),e})()}}]);